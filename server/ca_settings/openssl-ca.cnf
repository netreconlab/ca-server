#This definition stops the following lines choking if HOME isn't
# defined.
HOME			= ../ca
RANDFILE		= $ENV::HOME/.rnd
####################################################################
[ ca ]
default_ca	= CA_default		# The default ca section

####################################################################
[ CA_default ]

dir		= ../ca													# Where everything is kept
certs		= $dir/certs									# Where the issued certs are kept
crl_dir		= $dir/crl									# Where the issued crl are kept
database	= $dir/index.txt						# database index file.
unique_subject	= no									# Set to 'no' to allow creation of
																			# several certificates with same subject.
new_certs_dir	= $dir/newcerts					# default place for new certs.

certificate	= $dir/cacert.pem 				# The CA certificate
serial		= $dir/serial.txt 					# The current serial number
crlnumber	= $dir/crlnumber.txt				# the current crl number
																			# must be commented out to leave a V1 CRL
crl		= $dir/crl.pem 									# The current CRL
private_key	= $dir/private/cakey.pem 	# The private key
RANDFILE	= $dir/private/.rand				# private random number file

default_days    = 365    	      			# how long to certify for
default_crl_days= 30            			# how long before next CRL
default_md  	= sha256        				# use public key default MD
preserve    	= no            				# keep passed DN ordering

x509_extensions	= ca_extensions				# The extensions to add to the cert

email_in_dn 	= no            				# Don't concat the email in the DN
#copy_extensions = copy          			# Required to copy SANs from CSR to cert
crl_extensions	= crl_ext

####################################################################
[ req ]
default_bits		= 256		#4096  1024
default_keyfile 	= cakey.pem
distinguished_name	= ca_distinguished_name
#attributes		= req_attributes
x509_extensions	= ca_extensions				# The extensions to add to the self signed cert
string_mask = utf8only

####################################################################
[ ca_distinguished_name ]
countryName			= Country Name (2 letter code)
countryName_default		= US
countryName_min			= 2
countryName_max			= 2

stateOrProvinceName		= State or Province Name (full name)
stateOrProvinceName_default	= Kentucky

localityName			= Locality Name (eg, city)
localityName_default            = Lexington

0.organizationName		= Organization Name (eg, company)
0.organizationName_default	= 1 Degree Technologies LLC

organizationalUnitName		= Organizational Unit Name (eg, section)
organizationalUnitName_default	= AlleyOop

commonName          		= Common Name (e.g. server FQDN or YOUR name)
commonName_default      	= AlleyOop CA

emailAddress            	= Email Address
emailAddress_default        	= support@1degreetech.com

####################################################################
[ ca_extensions ]

subjectKeyIdentifier		= hash
authorityKeyIdentifier		= keyid:always, issuer
basicConstraints 		= critical, CA:true
keyUsage 			= keyCertSign, cRLSign

####################################################################
[ crl_ext ]

# CRL extensions.
# Only issuerAltName and authorityKeyIdentifier make any sense in a CRL.

# issuerAltName=issuer:copy
authorityKeyIdentifier=keyid:always,issuer:always

####################################################################
[ signing_policy ]
countryName     = optional
stateOrProvinceName = optional
localityName        = optional
organizationName    = optional
organizationalUnitName  = optional
commonName      = supplied
emailAddress        = optional

####################################################################
[ signing_req ]
subjectKeyIdentifier	= hash
authorityKeyIdentifier	= keyid,issuer

basicConstraints 	= CA:FALSE
keyUsage 		= digitalSignature, keyEncipherment
